<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset=utf-8 />
    <title>!importantjs</title>
    <script src=http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js></script>
    <script src=important.js></script>
    

<!-- document-level !important rules for #elem -->
<style id=style>
#elem {
    background-color:#333 !important;
    color:white !important;
}
</style>
<!-- end document-level !important rules for #elem -->
    
    
    
    <!-- general styling for demo -->
    <style>
        body {
            padding:0;
            margin:0;
        }
        
        h1 {
            font-size:1.62em;
            font-weight:bold;
            padding:0;
            margin:0.38em 0 0;
            position:fixed;
            top:1.62%;
            left:1.38%;
            z-index:2;
            font-family:monospace;
        }
        h1 span {
            float:left;
            position:relative;
        }
        h1 .important {
            color:#c33;
            font-family:serif;
        }
        h1 .dot {
            color:white;
            font-family:sans;
            font-size:0.62em;
            margin-top:1em;
        }
        h1 .js {
            color:#777;
            font-family:sans;
            font-size:0.62em;
            margin-top:1em;
        }
        
        #contents {
            position:relative;
        }
    
        #controls {
            width:56.8%;
            padding:0 0 0.62%;
            float:right;
        }
        #controls button {
            font-size:1em;
            width:100%;
            text-align:left;
            font-family:courier, monospace;
            font-weight:bold;
            color:white;
            background-color:black;
            border:1px solid white;
            padding:1%;
            margin:0.38% 0;
            cursor:pointer;
        }
        #controls button:hover {
            color:#ffc;
            background-color:#c33;
        }
    
        #elem {            
            border:0.62em solid #ccc;
            overflow:auto;
            width:34.2%;
            padding:1.62% 1.62% 0.62%;
            position:fixed;
            top:0;
            left:0;
        }
        
        #elem code.colours {
            background-color:#c33;
            color:#ffc;
        }
    </style>
</head>

<body>
    <h1>
        <span class=important>!important</span>
        <span class=dot>.</span>
        <span class=js>js</span>
        </h1>

    <!-- #contents -->
    <div id=contents>



<!-- #elem -->
<div id=elem style="
    background-color:blue;
    color:yellow;
">
<pre><code id=style-outer>
&lt;style id=style&gt;<code id=style-csstext class=colours></code>&lt;/style&gt;
</code></pre>
<pre><code id=elem-outer>
&lt;div id=elem style=&quot;
<code id=elem-attr class=colours></code>
&quot;&gt;&lt;/div&gt;
</code></pre>
</div>
<!-- end #elem -->    
    
    
    
        <div id=controls>
            <h2>Controls</h2>
            <ul></ul>
        </div>
    </div>
    <!-- end #contents -->

 
    
    <script>
(function(){
    // TESTS
    var
        elem = $('#elem'),
        elemReport = $('#elem-attr'),
        style = $('#style'),
        styleReport = $('#style-csstext'),
        update = (function(){
            return function(){
                elemReport
                    .text('    ' + elem.attr('style').replace(/;\s*/, ';\n    '));
                styleReport
                    .text(style.html());
            }
        }()),
        tests = [
            {
                text:'elem.important();',
                fn:function(){
                    elem.important();
                },
                desc:"Make all the css properties in the element's style attribute use the !important statement."
            },
            {
                text:'elem.important(false);',
                fn:function(){
                    elem.important(false);
                },
                desc:"Make all the css properties in the element's style attribute not use the !important statement."
            },
            {
                text:"elem.important('background-color');",
                fn:function(){
                    elem.important('background-color');
                },
                desc:"Make the background-color property in the element's style attribute use the !important statement."
            },
            {
                text:"elem.important('background-color', false);",
                fn:function(){
                    elem.important('background-color', false);
                },
                desc:"Make the background-color property in the element's style attribute not use the !important statement."
            },
            {
                text:"$(elem).css({'background-color':'blue', color:'yellow'}, true);",
                fn:function(){
                    $(elem).css({'background-color':'blue', color:'yellow'}, true);
                },
                desc:""
            },
            {
                text:"$(elem).important({'background-color':'black', color:'green'});",
                fn:function(){
                    $(elem).important({'background-color':'black', color:'green'});
                },
                desc:""
            },
            {
                text:'$(style).important();',
                fn:function(){
                    $(style).important();
                },
                desc:""
            },
            {
                text:'$(style).important(false);',
                fn:function(){
                    $(style).important(false);
                },
                desc:""
            },
            {
                text:'$.noConflict();',
                fn:function(){
                    $.noConflict();
                },
                desc:"Restore the overridden, css-related methods in jQuery, returning back the original methods."
            }
        ];
    
    $.each(tests, function(i, test){
        $('<button>' + test.text + '</button>')
            .attr('title', test.desc || '')
            .click(function(){
                test.fn();
                update();
            })
            .appendTo('#controls > ul');
    });
    update();
}());
    </script>
</body>

   
<!--
    <strong>Style element:</strong> <code id=style-inner></code>
    <br>
    <strong>Current style:</strong> <code id=current-style></code>

    <p>This is an element with id <code>elem</code>.</p>
    <p>The containing document has an inline style element with id <code>style</code>.</p>
    <p>
        <pre><code>
$('#elem').important(); // adds the !important statement to all of this element's inline styles

$('#elem').important(false); // removes the !important statement from all of this element's inline styles

$('#elem').important({padding:'1em'}) ===
$('#elem').css({padding:'1em'}); // add an inline style, using the !important statement. This will override any existing CSS properties of this type.

// TO BE IMPLEMENTED
$('#elem').important('width', '1.62em') ===
$('#elem').width('1.62em', true); // do $('#elem').width('1.62em') using the !important statement

// and similar, for other native jQuery methods:
$('#elem').important('height');
$('#elem').important('show');
$('#elem').important('hide');
$('#elem').important('animate');

$('#elem').important('padding'); // make this one inline style property !important

$('#elem').important('padding', false); // make this one inline style property not !important

//  !important === sudo
        </code></pre>
    </p>
-->
</html>
