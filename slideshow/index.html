<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Slideshow</title>
    
    <script>
        // Console logging, for development
        window.O = function(){
            if (window.console){
                window.console.log.apply(window.console, arguments);
            }
        };
    </script>
  </head>

  <body>
    <div class="slideshow" style="width:200px; height:200px;"></div>
    
    <script src="../jquery.min.js"></script>
    <script src="slideshow.js"></script>
    <script src="flickr.js"></script>
    <script>
        var flickrSearchOptions = {
            // Use any Flickr search options:
            //  http://www.flickr.com/services/api/flickr.photos.search.html
            user_id: "54304913@N00",
            sort: "interestingness-desc",
            safe_search: 1,
            per_page: 500
        };
        
        // Flickr API key
        flickr.key = "7846550a7f8e8fe8ae2f1b9d301dd7b6";
    
        flickr.search(flickrSearchOptions, function(rsp){
            if (!rsp || rsp.stat !== "ok"){
                // Ooops. No response back from Flickr
                jQuery("body").trigger("error.slideshow", rsp, flickrOptions);
                return;
            }
            
            var urls = jQuery.map(rsp.photos.photo, function(photo){
                    return flickr.src(photo);
                }),
                target = ".slideshow",
                options = {
                    random: true // (`false` is the default option)
                },
                mySlideshow = slideshow(urls, target, options);
                
            mySlideshow.container.on("click", function(){
                mySlideshow.toggleFullscreen();
            });
            mySlideshow.container.css("cursor", "pointer");
                
            // for debugging
            window.mySlideshow = mySlideshow;
        });
    </script>
  </body>
</html>
