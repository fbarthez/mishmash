var j=this;function k(a,b){var c=a[b];return l(b)+"="+l(c)}function m(a,b){var c="",g,f,d,h;if(!0===b){g=n(a).sort();d=0;for(h=g.length;d<h;d++)f=g[d],d&&(c+="&"),c+=k(a,f)}else for(f in a)a.hasOwnProperty(f)&&(c+=k(a,f));return c}function p(a){var b=r[a]=[];s[a]=function(c){var g=b.length,f=1<g,d;for(d=0;d<g;d++)b.shift()(c);f||t(a)};return b}function t(a){r[a].length||(delete r[a],delete s[a])}var l=j.c,n=j.b.keys,u=j.document,s={},r={},v,x,y=/[^\w\$]+/ig;x=function(a){return a?a.replace(y,"_"):"_"};n||(n=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b});v={path:"jasonpeewee",callbacks:s,fetch:function(a,b,c){function g(){e.onload=e.onreadystatechange=e.onerror=null;w.removeChild(e);f&&f.call(j,q)}function f(a){if(!a&&(a=r[h]))(a=a.shift())&&a({d:"jasonpeewee",error:"JSONP request failed",options:b,url:z}),t(h)}var d,h;b&&b.a?(d=b.a,delete b.a):d="callback";a+=-1===a.indexOf("?")?"?":"&";a+=b?m(b,!0)+"&":"";h=x(a);a+=d+"="+v.path+".callbacks."+h;(r[h]||p(h)).push(c);var z=a;c=a;var w=u.head||u.getElementsByTagName("head")[0],e=u.createElement("script"),q=!1;e.type="text/javascript";e.charset="utf-8";e.src=c;e.onload=e.onreadystatechange=function(){var a=this.readyState;if(!q&&(!a||"complete"===a||"loaded"===a))q=!0,g()};e.onerror=g;w.appendChild(e);return a},encodeURLQueryString:m};j.jasonpeewee=v;