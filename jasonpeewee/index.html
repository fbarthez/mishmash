<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Jason Peewee</title>

        <style>
            .results {
                border: 1px solid #ccc;
                padding: 2em;
                background: #eee;
            }
        </style>
    </head>
    
    <body>
        <h1>Jason Peewee - a cache-friendly JSONP super-assistant</h1>
        <p>No script dependencies. &lt; 800 bytes gzipped.</p>

        <h2>Example 1: GitHub bio</h2>
        <p>Load <a href="https://github.com/premasagar">Prem</a>'s bio <a href="https://api.github.com/users/premasagar">from the GitHub API</a> (and if you refresh the page, the data should already be cached for you):</p>
        <div class="results" id="github-results"></div>

        <h2>Example 2: Delicious latest bookmark</h2>
        <p>Load <a href="www.delicious.com/premasagar">Prem</a>'s latest bookmarks <a href="http://feeds.delicious.com/v2/json/premasagar/?count=1">from the Delicious API</a>:</p>
        <ul class="results" id="delicious-results"></ul>

        <script src="jasonpeewee.js"></script>
        <script>
            // GitHub example
            jasonpeewee(
                'https://api.github.com/users/premasagar',
                null, // (optional) options object to generate a query string
                function(data){
                    var elem = document.getElementById('github-results'),
                        bio = data.data.bio;

                    elem.innerHTML = bio;
                }
            );

            // Delicious example
            jasonpeewee(
                'http://feeds.delicious.com/v2/json/premasagar/',
                {count: 10},
                function(data){
                    var elem = document.getElementById('delicious-results'),
                        html = '', i, len, bookmark;

                    for (i=0, len=data.length; i<len; i++){
                        bookmark = data[i];
                        html += '<li><a href="' + bookmark.u + '">' + bookmark.d + '</a></li>';
                    }
                    elem.innerHTML = html;
                }
            );
        </script>
    </body>
</html>
